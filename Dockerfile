# Используем официальный образ Go на базе Alpine
FROM golang:1.24.0-alpine

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем файлы go.mod и go.sum в рабочую директорию
COPY go.mod ./

# Загружаем зависимости
RUN go mod download

# Копируем весь исходный код
COPY . .

# Компилируем приложение в исполняемый файл
RUN go build -o app .

EXPOSE  8080

# Запускаем приложение
CMD ["./app"]